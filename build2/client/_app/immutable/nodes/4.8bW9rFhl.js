import{s as fe,n as re,r as pe}from"../chunks/scheduler.gYNbTIBg.js";import{S as oe,i as me,e as a,s as v,t as w,c as i,g as C,a as u,b as y,d as b,f as e,h as ve,j as P,k as n,l as o,m as ue,n as g}from"../chunks/index.pqPhgd5I.js";function xe(r){let x,f='Using the modified version of M below, m can handle mixtures of synchronous and asynchronous arguments. idP(a) has no effect if a is a promise. Otherwise, idP transforms a into a promise. To see this in action, click "Restart" (below).',_,R,c,K,p,tt='In the demonstration below, "m" is given mixtures of simple functions and promises.',L,m,et="Restart",Q,h,E,S,d,lt=`          m(() => 4)(addP(3)) (squareP) (v => v-7)(dF3x).then(v => (A = v));
=`,q,B,D,V,s,F="// x is changed to 4, then  (4+3)**2 - 7 = 42",T,X,nt,st,N,jt,I,at,it,H,Qt="    //  (42/42)*6*7 = 42",rt,vt,ut,ft,M,zt,j,pt,ot,z,Vt="    //  Math.sqrt(42 + 7) * 6 = 42",mt,xt,wt,bt,k,Ot,O,Pt,dt,U,Xt="    //  ((42 / 14) * 3 + 5) * 3 = 42",Ct,W,Yt="The asynchronous functions used above are in this list:",yt,Y,Ut,_t,G,Zt="Here's the restart code:",ht,Z,Wt,Bt,J,$t="m = M(3)",Ft,$,At,Rt,ct,Et,St,qt,Nt,Mt,kt,Dt,Tt,It,Ht,Gt,gt;return{c(){x=a("p"),x.textContent=f,_=v(),R=a("pre"),c=w(r[5]),K=v(),p=a("p"),p.textContent=tt,L=v(),m=a("button"),m.textContent=et,Q=v(),h=a("br"),E=a("br"),S=v(),d=a("span"),d.textContent=lt,q=v(),B=a("span"),D=w(r[0]),V=w("    "),s=a("span"),s.textContent=F,T=v(),X=a("br"),nt=a("br"),st=v(),N=a("span"),jt=w(`         m(v => v/42)(v => v + 5)(v=>v*7)(pause(600))(dF3x).then(v => (B = v));
= `),I=a("span"),at=w(r[1]),it=v(),H=a("span"),H.textContent=Qt,rt=v(),vt=a("br"),ut=a("br"),ft=v(),M=a("span"),zt=w(`         m(addP(7))(Math.sqrt)(v => v*6)(hello)(dF3x).then(a => (C = a));
= `),j=a("span"),pt=w(r[2]),ot=v(),z=a("span"),z.textContent=Vt,mt=v(),xt=a("br"),wt=a("br"),bt=v(),k=a("span"),Ot=w("          m(divP(14))(v => v * 3)(addP(5))(v=> v * 3)(dF3x).then(v => (D = v)) = "),O=a("span"),Pt=w(r[3]),dt=v(),U=a("span"),U.textContent=Xt,Ct=v(),W=a("p"),W.textContent=Yt,yt=v(),Y=a("pre"),Ut=w(r[6]),_t=v(),G=a("p"),G.textContent=Zt,ht=v(),Z=a("pre"),Wt=w(r[8]),Bt=v(),J=a("h2"),J.textContent=$t,Ft=v(),$=a("h2"),At=w(r[4]),Rt=v(),ct=a("br"),Et=a("br"),St=a("br"),qt=v(),Nt=a("br"),Mt=a("br"),kt=a("br"),Dt=v(),Tt=a("br"),It=a("br"),Ht=a("br"),this.h()},l(t){x=i(t,"P",{"data-svelte-h":!0}),C(x)!=="svelte-qhjuei"&&(x.textContent=f),_=u(t),R=i(t,"PRE",{});var l=y(R);c=b(l,r[5]),l.forEach(e),K=u(t),p=i(t,"P",{id:!0,"data-svelte-h":!0}),C(p)!=="svelte-180s3jf"&&(p.textContent=tt),L=u(t),m=i(t,"BUTTON",{"data.sveltekit.reload":!0,"data-svelte-h":!0}),C(m)!=="svelte-7mhl08"&&(m.textContent=et),Q=u(t),h=i(t,"BR",{}),E=i(t,"BR",{}),S=u(t),d=i(t,"SPAN",{style:!0,"data-svelte-h":!0}),C(d)!=="svelte-10m3kr1"&&(d.textContent=lt),q=u(t),B=i(t,"SPAN",{style:!0});var te=y(B);D=b(te,r[0]),te.forEach(e),V=b(t,"    "),s=i(t,"SPAN",{"data-svelte-h":!0}),C(s)!=="svelte-1tvym8y"&&(s.textContent=F),T=u(t),X=i(t,"BR",{}),nt=i(t,"BR",{}),st=u(t),N=i(t,"SPAN",{style:!0});var Jt=y(N);jt=b(Jt,`         m(v => v/42)(v => v + 5)(v=>v*7)(pause(600))(dF3x).then(v => (B = v));
= `),I=i(Jt,"SPAN",{style:!0});var ee=y(I);at=b(ee,r[1]),ee.forEach(e),Jt.forEach(e),it=u(t),H=i(t,"SPAN",{"data-svelte-h":!0}),C(H)!=="svelte-506qr8"&&(H.textContent=Qt),rt=u(t),vt=i(t,"BR",{}),ut=i(t,"BR",{}),ft=u(t),M=i(t,"SPAN",{style:!0});var Kt=y(M);zt=b(Kt,`         m(addP(7))(Math.sqrt)(v => v*6)(hello)(dF3x).then(a => (C = a));
= `),j=i(Kt,"SPAN",{style:!0});var le=y(j);pt=b(le,r[2]),le.forEach(e),Kt.forEach(e),ot=u(t),z=i(t,"SPAN",{"data-svelte-h":!0}),C(z)!=="svelte-1kgm6a4"&&(z.textContent=Vt),mt=u(t),xt=i(t,"BR",{}),wt=i(t,"BR",{}),bt=u(t),k=i(t,"SPAN",{style:!0});var Lt=y(k);Ot=b(Lt,"          m(divP(14))(v => v * 3)(addP(5))(v=> v * 3)(dF3x).then(v => (D = v)) = "),O=i(Lt,"SPAN",{style:!0});var ne=y(O);Pt=b(ne,r[3]),ne.forEach(e),Lt.forEach(e),dt=u(t),U=i(t,"SPAN",{"data-svelte-h":!0}),C(U)!=="svelte-1c5fdgj"&&(U.textContent=Xt),Ct=u(t),W=i(t,"P",{"data-svelte-h":!0}),C(W)!=="svelte-1omp1e7"&&(W.textContent=Yt),yt=u(t),Y=i(t,"PRE",{});var se=y(Y);Ut=b(se,r[6]),se.forEach(e),_t=u(t),G=i(t,"P",{"data-svelte-h":!0}),C(G)!=="svelte-15mm6ld"&&(G.textContent=Zt),ht=u(t),Z=i(t,"PRE",{});var ae=y(Z);Wt=b(ae,r[8]),ae.forEach(e),Bt=u(t),J=i(t,"H2",{"data-svelte-h":!0}),C(J)!=="svelte-14u0hcr"&&(J.textContent=$t),Ft=u(t),$=i(t,"H2",{});var ie=y($);At=b(ie,r[4]),ie.forEach(e),Rt=u(t),ct=i(t,"BR",{}),Et=i(t,"BR",{}),St=i(t,"BR",{}),qt=u(t),Nt=i(t,"BR",{}),Mt=i(t,"BR",{}),kt=i(t,"BR",{}),Dt=u(t),Tt=i(t,"BR",{}),It=i(t,"BR",{}),Ht=i(t,"BR",{}),this.h()},h(){ve(p,"id","yes"),ve(m,"data.sveltekit.reload",""),P(d,"color","#FAF"),P(B,"font-weight","bold"),P(B,"color","red"),P(I,"font-weight","bold"),P(I,"color","red"),P(N,"color","#FAF"),P(j,"font-weight","bold"),P(j,"color","red"),P(M,"color","#FAF"),P(O,"font-weight","bold"),P(O,"color","red"),P(k,"color","#FAF")},m(t,l){n(t,x,l),n(t,_,l),n(t,R,l),o(R,c),n(t,K,l),n(t,p,l),n(t,L,l),n(t,m,l),n(t,Q,l),n(t,h,l),n(t,E,l),n(t,S,l),n(t,d,l),n(t,q,l),n(t,B,l),o(B,D),n(t,V,l),n(t,s,l),n(t,T,l),n(t,X,l),n(t,nt,l),n(t,st,l),n(t,N,l),o(N,jt),o(N,I),o(I,at),n(t,it,l),n(t,H,l),n(t,rt,l),n(t,vt,l),n(t,ut,l),n(t,ft,l),n(t,M,l),o(M,zt),o(M,j),o(j,pt),n(t,ot,l),n(t,z,l),n(t,mt,l),n(t,xt,l),n(t,wt,l),n(t,bt,l),n(t,k,l),o(k,Ot),o(k,O),o(O,Pt),n(t,dt,l),n(t,U,l),n(t,Ct,l),n(t,W,l),n(t,yt,l),n(t,Y,l),o(Y,Ut),n(t,_t,l),n(t,G,l),n(t,ht,l),n(t,Z,l),o(Z,Wt),n(t,Bt,l),n(t,J,l),n(t,Ft,l),n(t,$,l),o($,At),n(t,Rt,l),n(t,ct,l),n(t,Et,l),n(t,St,l),n(t,qt,l),n(t,Nt,l),n(t,Mt,l),n(t,kt,l),n(t,Dt,l),n(t,Tt,l),n(t,It,l),n(t,Ht,l),Gt||(gt=[ue(window,"keypress",r[9]),ue(m,"click",r[7])],Gt=!0)},p(t,[l]){l&1&&g(D,t[0]),l&2&&g(at,t[1]),l&4&&g(pt,t[2]),l&8&&g(Pt,t[3]),l&16&&g(At,t[4])},i:re,o:re,d(t){t&&(e(x),e(_),e(R),e(K),e(p),e(L),e(m),e(Q),e(h),e(E),e(S),e(d),e(q),e(B),e(V),e(s),e(T),e(X),e(nt),e(st),e(N),e(it),e(H),e(rt),e(vt),e(ut),e(ft),e(M),e(ot),e(z),e(mt),e(xt),e(wt),e(bt),e(k),e(dt),e(U),e(Ct),e(W),e(yt),e(Y),e(_t),e(G),e(ht),e(Z),e(Bt),e(J),e(Ft),e($),e(Rt),e(ct),e(Et),e(St),e(qt),e(Nt),e(Mt),e(kt),e(Dt),e(Tt),e(It),e(Ht)),Gt=!1,pe(gt)}}}async function we(r){return await A(5),r}function A(r){return new Promise(x=>setTimeout(x,r))}async function be(r){return await A(300),r*r}function*Pe(){return yield"m(v=>v**3)",yield"m(dF3x)  // 3",yield"m(v=>v**3)(v=>v*2)(v=>v-12)",yield"m(dF3x)  // 42",yield"m(v=>v+7)(Math.sqrt)(dF3x)  // 7",""}function de(r,x,f){var _=()=>{};function R(s){return function F(T){return T===_?s:(s=we(s).then(X=>T(X)),F)}}const c=R(3);var K=`    var dF3x = () => {}; 

    function M (x) {
        return function go (func){
            if (func === dF3x) return x;
            else x = idP(x).then(v => func(v));
            return go;
        };
    };
    
    const m = M(3); 
    
    async function idP (x) {
      await wait(5)
      return x;
    } ;

    function wait(ms) {
        return new Promise(r => setTimeout(r, ms));
    }`,p;let tt=s=>async F=>(await A(s),F);async function L(s){return f(0,p="Hello "),await A(700),f(1,h="World"),await A(700),f(0,p=42),await A(700),f(1,h=42),await A(600),s}let m=s=>async F=>(await A(500),parseInt(s,10)+parseInt(F,10)),et=s=>async F=>(await A(300),F/s);var Q=`    function wait(ms) {
      return new Promise(r => setTimeout(r, ms));
    }
    
    async function squareP (x) {
      await wait(300)
      return x*x;
    }
    
    let pause = t => async x => {
      await wait(t)
      return x;
    }
    
    async function hello (x) {
      await wait(1000)
      A = "Hello "
      await wait(700)
      B = "World"
      await wait(700)
      A = 42
      await wait(700)
      B = 42
      return x;
    }
    
    let divPinverse = a => async b => {
      await wait (300)
      return a/b;
    }
    
    let addP =  x => async y => {
      await wait(300)
      return parseInt(x,10) + parseInt(y,10);
    }
    
    let doubleP = async y => {
      await wait(600)
      return 2 * parseInt(y,10) 
    }
    
    let multP = x => async y => {
      await wait(600)
      return x * y;
    }
    
    let divP = a => async b => {
      await wait (300)
      return b/a;
    }
    
    async function cubeP (x) {
      await wait(600)
      return x*x*x;
    } `;p="A";var h="B",E="C",S="D";function d(){f(0,p="A"),f(1,h="B"),f(2,E="C"),f(3,S="D"),c(()=>4)(m(3))(be)(s=>s-7)(_).then(s=>f(0,p=s)),c(s=>s/42)(s=>s+5)(s=>s*7)(tt(600))(_).then(s=>f(1,h=s)),c(m(7))(Math.sqrt)(s=>s*6)(L)(_).then(s=>f(2,E=s)),c(et(14))(s=>s*3)(m(5))(s=>s*3)(_).then(s=>f(3,S=s))}var lt=`    function restart () {
      A = "A"
      B = "B"
      C = "C"
      D = "D"
    m(() => 4)(addP(3)) (squareP) (v => v-7)(dF3x).then(v => (A = v));
      
    m(v => v/42)(v => v + 5)(v=>v*7)(pause(600))(dF3x).then(v => (B = v));

    m(addP(7))(Math.sqrt)(v => v*6)(hello)(dF3x).then(a => (C = a));

    m(divP(14))(v => v * 3)(addP(5))(v=> v * 3)(dF3x).then(v => (D = v)); 

    }`;d();var q="",B=Pe();function D(){console.log("Fuck you");var s=B.next().value;console.log("z is",s),s!=null?f(4,q=s):f(4,q="")}function V(s){s.keyCode===59&&D()}return D(),console.log("Fuck you"),[p,h,E,S,q,K,Q,d,lt,V]}class _e extends oe{constructor(x){super(),me(this,x,de,xe,fe,{})}}export{_e as component};
